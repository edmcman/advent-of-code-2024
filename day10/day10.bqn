in â† '0'-Ëœ>â€¢file.Lines "input.txt"
OnGrid â† âˆ§Â´(â‰¥âŸœ0)âˆ¾<âŸœ(â‰¢in)
GetIndices â† /â—‹â¥ŠâŸœ(â†•â‰¢)

dirs â† âŸ¨
    0â€¿1
    1â€¿0
    0â€¿Â¯1
    Â¯1â€¿0
âŸ©
 
Succ â† {grid Succ coord:
    {(ğ•©âŠ‘grid) = 1+coordâŠ‘grid}âŠ¸/ OnGridÂ¨âŠ¸/ (<coord) + dirs
}
Goal â† 9âŠ¸=âŠ‘

S â† {gridâ€¿visited S coord:
    #â€¢Show "coord" â‹ˆ coord
    {âŠ‘(<coord) âˆŠ visited ?
     visited ;
     visited â†© (â·visitedâˆ¾(â‹ˆcoord))
     â· visited âˆ¾Â´ gridâ€¿visitedâŠ¸SÂ¨ (grid Succ coord)
    }
}

# Need to find trailheads
trailheads â† GetIndices in=0
part1 â† +Â´ {{+Â´ 9=ğ•© âŠ‘ in} inâ€¿âŸ¨âŸ©âŠ¸S ğ•©}Â¨ trailheads

SP2 â† {gridâ€¿visitedâ€¿path S coord:
    //â€¢Show "coord" â‹ˆ coord
    path â†© pathâˆ¾(â‹ˆcoord)
    goals â† âŸ¨coord Goal gridâŸ© / âŸ¨â‹ˆpathâŸ©
    //â€¢Show "goals" â‹ˆ goals
    {âŠ‘(<coord) âˆŠ visited ?
     goals;
     visited â†© (â·visitedâˆ¾(â‹ˆcoord))

     goals âˆ¾Â´ gridâ€¿visitedâ€¿pathâŠ¸SÂ¨ (grid Succ coord)
    }
}

part2 â† +Â´ {â‰  inâ€¿âŸ¨âŸ©â€¿âŸ¨âŸ©âŠ¸SP2 ğ•©}Â¨ trailheads
