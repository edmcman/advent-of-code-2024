in â† â€¢file.Lines "input.txt"

Split â† {(<ğ•¨) ((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢)Â¨ ğ•©}
ParseInt â† (10âŠ¸Ã—âŠ¸+ËœÂ´âˆ˜âŒ½-âŸœ'0')



emptylines â† in â‰¡Â¨ <""
groupindices â† (2Ã—emptylines) -Ëœ +` emptylines
parsed â† {
    groups â† groupindicesâŠ”in
    orderings â‡ ParseIntÂ¨ > ('|' Split âŠ‘groups)
    updates â‡ ParseIntÂ¨Â¨ ',' Split 1âŠ‘groups
}


# x_w means X must come before W
IsPairOK â† {Â¬ ğ•©â€¿ğ•¨ âˆŠ parsed.orderings}
CanComeBefore â† IsPairOK

ListThing â† >âŒœËœ âˆ˜ â†•â‰ 
IsUpdateOK â† {âˆ§Â´â¥Š(ListThing ğ•©) âˆ¨ (>IsPairOKâŒœËœ ğ•©)}

#â€¢Show > ListThing 53â€¿13

#â€¢Show IsUpdateOK 75â€¿47â€¿61â€¿53â€¿29
#â€¢Show IsUpdateOK 61â€¿13â€¿29
#â€¢Show >IsPairOKâŒœËœ 61â€¿13â€¿29
#â€¢Show ListThing 61â€¿13â€¿29

Middle â† {(âŒŠ2 Ã·Ëœ â‰ ğ•©) âŠ‘ ğ•©}
#Middle â† (+1)âˆ˜(Ã·2)â‰ 

part1 â† +Â´ MiddleÂ¨ (IsUpdateOKÂ¨ parsed.updates) / parsed.updates
â€¢Show part1